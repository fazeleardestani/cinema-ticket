# مینی پروژه سینما تیکت

![Python Version](https://img.shields.io/badge/python-3.9%2B-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

یک سامانه مدیریت سینما تیکت مبتنی بر خط فرمان (Command-Line) که در پایتون توسعه داده شده است. این پروژه به کاربران امکان ثبت‌نام، مدیریت پروفایل، مدیریت مالی و رزرو بلیت را می‌دهد، در حالی که مدیران می‌توانند از طریق یک CLI مجزا، سانس‌های سینما را مدیریت کنند.

---

## 📋 فهرست مطالب

1.  [🚀 ویژگی‌های اصلی](#-ویژگی‌های-اصلی)
    * [مدیریت کاربران](#مدیریت-کاربران)
    * [سیستم مالی و اشتراک](#سیستم-مالی-و-اشتراک)
    * [رزرو بلیت و تخفیف‌ها](#رزرو-بلیت-و-تخفیف‌ها)
    * [مدیریت سیستم (برای مدیران)](#مدیریت-سیستم-برای-مدیران)
2.  [🛠 نیازمندی‌های فنی](#-نیازمندی‌های-فنی)
3.  [⚙️ نحوه راه‌اندازی و استفاده](#️-نحوه-راه‌اندازی-و-استفاده)

---

## 🚀 ویژگی‌های اصلی

### مدیریت کاربران
- ثبت‌نام کاربر جدید با نام کاربری منحصر به فرد و تاریخ تولد.
- ذخیره‌سازی امن گذرواژه با استفاده از `hashlib` و دریافت آن با `getpass`.
- ورود و خروج امن کاربران.
- تولید شناسه یکتا برای هر کاربر با استفاده از `uuid`.
- امکان ویرایش اطلاعات پروفایل مانند نام کاربری و شماره تلفن.
- امکان تغییر گذرواژه با تایید هویت.
- ثبت خودکار تاریخ عضویت کاربر که غیرقابل تغییر است.
- تفکیک نقش کاربران و مدیران از طریق یک فیلد `Enum` یا ارث‌بری.

### سیستم مالی و اشتراک
- امکان افزودن یک یا چند حساب بانکی برای هر کاربر.
- پشتیبانی حساب‌های بانکی از عملیات واریز، برداشت و انتقال وجه.
- وجود رمز و CVV2 برای افزایش امنیت تراکنش‌های بانکی.
- شارژ کیف پول داخلی برنامه از طریق حساب بانکی منتخب.
- سیستم اشتراک سه‌سطحی برای کاربران:
    - **برنزی**: اشتراک پیش‌فرض بدون امتیاز ویژه.
    - **نقره‌ای**: بازگشت ۲۰٪ از مبلغ سه خرید آتی به کیف پول.
    - **طلایی**: بازگشت ۵۰٪ از مبلغ تراکنش‌ها تا یک ماه و یک جایزه.

### رزرو بلیت و تخفیف‌ها
- مشاهده لیست سانس‌های موجود و رزرو صندلی.
- اعمال تخفیف نیم‌بها برای خرید بلیت در روز تولد کاربر.
- اعمال تخفیف بر اساس تعداد ماه‌های عضویت کاربر در سامانه.
- جلوگیری از رزرو سانس‌های پر شده یا تاریخ گذشته.
- جلوگیری از مشاهده یا رزرو فیلم‌ها برای کاربرانی که محدودیت سنی آن را ندارند.

### مدیریت سیستم (برای مدیران)
- مدیران سینما از طریق یک اسکریپت مجزا و با استفاده از `argparse` سانس‌ها را تعریف و مدیریت می‌کنند.

---

## 🛠 نیازمندی‌های فنی
- **ماژولار بودن**: کدهای هر بخش در ماژول‌های جداگانه قرار گرفته‌اند.
- **ذخیره‌سازی داده**: اطلاعات کاربران، سانس‌ها و... در فایل‌های `JSON` یا `Pickle` ذخیره می‌شوند تا با اجرای مجدد برنامه باقی بمانند.
- **لاگینگ**: تمام وقایع مهم برنامه در فایلی به نام `cinematicket.log` ثبت می‌شوند.
- **مدیریت خطا**: از Exceptionهای سفارشی برای مدیریت بهتر خطاها استفاده شده است.
- **تست‌نویسی (TDD)**: تمام مدل‌ها و توابع برنامه در پکیج `tests` تست‌نویسی شده‌اند.
- **کنترل نسخه**: تمام مراحل توسعه پروژه در `Git` ثبت (commit) شده است.

---

## ⚙️ نحوه راه‌اندازی و استفاده

**۱. کلون کردن پروژه:**
```bash
git clone <repository-url>
cd <project-folder>
```

**۲. اجرای برنامه برای کاربران:**
برای استفاده از امکانات کاربری مانند ثبت‌نام، ورود و رزرو بلیت، اسکریپت اصلی را اجرا کنید.
```bash
python scripts/main.py
```

**۳. اجرای اسکریپت مدیریت:**
مدیران برای مدیریت سانس‌ها (مثلاً تعریف سانس جدید) باید از اسکریپت مربوط به مدیر استفاده کنند.
```bash
python scripts/manager_cli.py <command> [options]
```
> **مثال برای تعریف سانس جدید:**
> ```bash
> python scripts/manager_cli.py create --movie-title "Inception" --time "2025-08-15 22:00" --capacity 100 --age-rating 17
> 
